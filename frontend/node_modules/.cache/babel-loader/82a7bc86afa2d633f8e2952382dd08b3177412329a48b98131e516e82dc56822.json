{"ast":null,"code":"import { RuneFamily } from \"../types/Rune\";\nimport runeList from \"../utils/data/runes.json\";\n\n// turns a rune family name to a RuneFamily enum value\nfunction nameToRuneFamily(name) {\n  switch (name) {\n    case \"Domination\":\n    case \"0\":\n      return RuneFamily.Domination;\n    case \"Inspiration\":\n    case \"1\":\n      return RuneFamily.Inspiration;\n    case \"Precision\":\n    case \"2\":\n      return RuneFamily.Precision;\n    case \"Resolve\":\n    case \"3\":\n      return RuneFamily.Resolve;\n    case \"Sorcery\":\n    case \"4\":\n      return RuneFamily.Sorcery;\n    case \"StatMods\":\n      return RuneFamily.StatMods;\n    default:\n      throw new Error(`Unknown rune family: ${name}`);\n  }\n}\n\n// return the position of the tree in the json file\nfunction treeNameToPosition(name) {\n  switch (name) {\n    case \"Domination\":\n      return 0;\n    case \"Inspiration\":\n      return 1;\n    case \"Precision\":\n      return 2;\n    case \"Resolve\":\n      return 3;\n    case \"Sorcery\":\n      return 4;\n    default:\n      throw new Error(`Unknown rune family: ${name}`);\n  }\n}\n\n// turns an element from runes.json to a Rune object\nfunction toRuneFormat(id, icon, name, slots, family) {\n  const formattedRune = {\n    id: id,\n    name: name,\n    icon: icon,\n    runeFamily: nameToRuneFamily(family),\n    slot: slots\n  };\n  return formattedRune;\n}\nexport { toRuneFormat };\nfunction toRunePack(tree) {\n  // without \"as {...}\", variable would also have type number, causing error\n  const treeFromJson = runeList[treeNameToPosition(tree)];\n  let returnValue = [];\n  for (let i = 0; i < treeFromJson.slots.length; i++) {\n    let runeRow = [];\n    for (let j = 0; j < treeFromJson.slots[i].runes.length; j++) {\n      const rune = treeFromJson.slots[i].runes[j];\n      const formattedRune = toRuneFormat(rune.id, rune.icon, rune.name, i, treeFromJson.key);\n      runeRow.push(formattedRune);\n    }\n    returnValue.push(runeRow);\n  }\n  return returnValue;\n}\nexport { toRunePack };\n// export default toRuneFormat;","map":{"version":3,"names":["RuneFamily","runeList","nameToRuneFamily","name","Domination","Inspiration","Precision","Resolve","Sorcery","StatMods","Error","treeNameToPosition","toRuneFormat","id","icon","slots","family","formattedRune","runeFamily","slot","toRunePack","tree","treeFromJson","returnValue","i","length","runeRow","j","runes","rune","key","push"],"sources":["C:/Users/loppo/Projets/morestats/frontend/src/utils/RuneFormatter.ts"],"sourcesContent":["import { Rune } from \"../types/Rune\";\r\nimport { RuneFamily } from \"../types/Rune\";\r\nimport runeList from \"../utils/data/runes.json\";\r\n\r\n// turns a rune family name to a RuneFamily enum value\r\nfunction nameToRuneFamily(name: string): RuneFamily {\r\n  switch (name) {\r\n    case \"Domination\":\r\n    case \"0\":\r\n      return RuneFamily.Domination;\r\n    case \"Inspiration\":\r\n    case \"1\":\r\n      return RuneFamily.Inspiration;\r\n    case \"Precision\":\r\n    case \"2\":\r\n      return RuneFamily.Precision;\r\n    case \"Resolve\":\r\n    case \"3\":\r\n      return RuneFamily.Resolve;\r\n    case \"Sorcery\":\r\n    case \"4\":\r\n      return RuneFamily.Sorcery;\r\n    case \"StatMods\":\r\n      return RuneFamily.StatMods;\r\n    default:\r\n      throw new Error(`Unknown rune family: ${name}`);\r\n  }\r\n}\r\n\r\n// return the position of the tree in the json file\r\nfunction treeNameToPosition(name: string): number {\r\n  switch (name) {\r\n    case \"Domination\":\r\n      return 0;\r\n    case \"Inspiration\":\r\n      return 1;\r\n    case \"Precision\":\r\n      return 2;\r\n    case \"Resolve\":\r\n      return 3;\r\n    case \"Sorcery\":\r\n      return 4;\r\n    default:\r\n      throw new Error(`Unknown rune family: ${name}`);\r\n  }\r\n}\r\n\r\n// turns an element from runes.json to a Rune object\r\nfunction toRuneFormat(\r\n  id: number,\r\n  icon: string,\r\n  name: string,\r\n  slots: number,\r\n  family: string\r\n): Rune {\r\n  const formattedRune: Rune = {\r\n    id: id,\r\n    name: name,\r\n    icon: icon,\r\n    runeFamily: nameToRuneFamily(family),\r\n    slot: slots,\r\n  };\r\n  return formattedRune;\r\n}\r\n\r\nexport { toRuneFormat };\r\n\r\nfunction toRunePack(tree: string): Rune[][] {\r\n  // without \"as {...}\", variable would also have type number, causing error\r\n  const treeFromJson = runeList[treeNameToPosition(tree)] as {\r\n    id: number;\r\n    key: string;\r\n    icon: string;\r\n    name: string;\r\n    slots: {\r\n      runes: {\r\n        id: number;\r\n        key: string;\r\n        icon: string;\r\n        name: string;\r\n        shortDesc: string;\r\n        longDesc: string;\r\n      }[];\r\n    }[];\r\n  };\r\n  let returnValue: Rune[][] = [];\r\n  for (let i = 0; i < treeFromJson.slots.length; i++) {\r\n    let runeRow: Rune[] = [];\r\n    for (let j = 0; j < treeFromJson.slots[i].runes.length; j++) {\r\n      const rune = treeFromJson.slots[i].runes[j];\r\n      const formattedRune = toRuneFormat(\r\n        rune.id,\r\n        rune.icon,\r\n        rune.name,\r\n        i,\r\n        treeFromJson.key\r\n      );\r\n      runeRow.push(formattedRune);\r\n    }\r\n    returnValue.push(runeRow);\r\n  }\r\n\r\n  return returnValue;\r\n}\r\n\r\nexport { toRunePack };\r\n// export default toRuneFormat;\r\n"],"mappings":"AACA,SAASA,UAAU,QAAQ,eAAe;AAC1C,OAAOC,QAAQ,MAAM,0BAA0B;;AAE/C;AACA,SAASC,gBAAgBA,CAACC,IAAY,EAAc;EAClD,QAAQA,IAAI;IACV,KAAK,YAAY;IACjB,KAAK,GAAG;MACN,OAAOH,UAAU,CAACI,UAAU;IAC9B,KAAK,aAAa;IAClB,KAAK,GAAG;MACN,OAAOJ,UAAU,CAACK,WAAW;IAC/B,KAAK,WAAW;IAChB,KAAK,GAAG;MACN,OAAOL,UAAU,CAACM,SAAS;IAC7B,KAAK,SAAS;IACd,KAAK,GAAG;MACN,OAAON,UAAU,CAACO,OAAO;IAC3B,KAAK,SAAS;IACd,KAAK,GAAG;MACN,OAAOP,UAAU,CAACQ,OAAO;IAC3B,KAAK,UAAU;MACb,OAAOR,UAAU,CAACS,QAAQ;IAC5B;MACE,MAAM,IAAIC,KAAK,CAAC,wBAAwBP,IAAI,EAAE,CAAC;EACnD;AACF;;AAEA;AACA,SAASQ,kBAAkBA,CAACR,IAAY,EAAU;EAChD,QAAQA,IAAI;IACV,KAAK,YAAY;MACf,OAAO,CAAC;IACV,KAAK,aAAa;MAChB,OAAO,CAAC;IACV,KAAK,WAAW;MACd,OAAO,CAAC;IACV,KAAK,SAAS;MACZ,OAAO,CAAC;IACV,KAAK,SAAS;MACZ,OAAO,CAAC;IACV;MACE,MAAM,IAAIO,KAAK,CAAC,wBAAwBP,IAAI,EAAE,CAAC;EACnD;AACF;;AAEA;AACA,SAASS,YAAYA,CACnBC,EAAU,EACVC,IAAY,EACZX,IAAY,EACZY,KAAa,EACbC,MAAc,EACR;EACN,MAAMC,aAAmB,GAAG;IAC1BJ,EAAE,EAAEA,EAAE;IACNV,IAAI,EAAEA,IAAI;IACVW,IAAI,EAAEA,IAAI;IACVI,UAAU,EAAEhB,gBAAgB,CAACc,MAAM,CAAC;IACpCG,IAAI,EAAEJ;EACR,CAAC;EACD,OAAOE,aAAa;AACtB;AAEA,SAASL,YAAY;AAErB,SAASQ,UAAUA,CAACC,IAAY,EAAY;EAC1C;EACA,MAAMC,YAAY,GAAGrB,QAAQ,CAACU,kBAAkB,CAACU,IAAI,CAAC,CAerD;EACD,IAAIE,WAAqB,GAAG,EAAE;EAC9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,YAAY,CAACP,KAAK,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;IAClD,IAAIE,OAAe,GAAG,EAAE;IACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,YAAY,CAACP,KAAK,CAACS,CAAC,CAAC,CAACI,KAAK,CAACH,MAAM,EAAEE,CAAC,EAAE,EAAE;MAC3D,MAAME,IAAI,GAAGP,YAAY,CAACP,KAAK,CAACS,CAAC,CAAC,CAACI,KAAK,CAACD,CAAC,CAAC;MAC3C,MAAMV,aAAa,GAAGL,YAAY,CAChCiB,IAAI,CAAChB,EAAE,EACPgB,IAAI,CAACf,IAAI,EACTe,IAAI,CAAC1B,IAAI,EACTqB,CAAC,EACDF,YAAY,CAACQ,GACf,CAAC;MACDJ,OAAO,CAACK,IAAI,CAACd,aAAa,CAAC;IAC7B;IACAM,WAAW,CAACQ,IAAI,CAACL,OAAO,CAAC;EAC3B;EAEA,OAAOH,WAAW;AACpB;AAEA,SAASH,UAAU;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}